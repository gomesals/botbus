'use strict';(function(){'use strict';angular.module('botbus',['checklist-model']).controller('pathsCtrl',pathsCtrl).controller('pathsFormCtrl',pathsFormCtrl);function pathsCtrl($http){var vm=this;$http.get('api/paths').then(function(r){vm.data=r.data},handleError);vm.remove=function(item){var index=vm.data.indexOf(item);$http.delete('api/paths/'+vm.data[index]._id).then(function(r){if(r.status===200){vm.data.splice(index,1)}},handleError)}}function pathsFormCtrl($http){var vm=this;vm.saving=false;vm.data={};$http.get('api/neighborhoods').then(function(r){vm.neighborhoods=r.data},handleError);var id=window.location.pathname.split('/')[3];setTimeout(function(){if(vm.edit){$http.get('api/paths/'+id).then(function(r){vm.data=r.data;vm.selected=r.data.neighborhoods},handleError)}},100);vm.clear=function(){vm.selected=[]};vm.confirm=function(){vm.confirmed=false};vm.save=function(){vm.saving=true;var data={title:vm.title,neighborhoods:vm.selected};$http({method:vm.edit?'PUT':'POST',url:vm.edit?'api/paths/'+id:'api/paths',data:data}).then(function(r){window.location='painel/trajetos'},function(e){vm.saving=false;handleError(e)})}}function handleError(e){console.log(e)}pathsCtrl.$inject=['$http'];pathsFormCtrl.$inject=['$http']})();
//# sourceMappingURL=paths.js.map
